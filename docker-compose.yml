services:
  report:
    build: .
    container_name: homelab-report
    restart: unless-stopped
    command: python src/main.py
    environment:
      - CONFIG_PATH=${CONFIG_PATH}
      - SMTP_HOST=${SMTP_HOST}
      - SMTP_PORT=${SMTP_PORT}
      - SMTP_USER=${SMTP_USER}
      - SMTP_PASS=${SMTP_PASS}
      - EMAIL_FROM=${EMAIL_FROM}
      - EMAIL_TO=${EMAIL_TO}
      - PROXMOX_TOKEN=${PROXMOX_TOKEN}
      - PORTAINER_TOKEN=${PORTAINER_TOKEN}
      - GLUETUN_API_KEY=${GLUETUN_API_KEY}
      - ADGUARD_USER=${ADGUARD_USER}
      - ADGUARD_PASS=${ADGUARD_PASS}
      - SPEEDTEST_TRACKER_API_KEY=${SPEEDTEST_TRACKER_API_KEY}
      - PROWLARR_API_KEY=${PROWLARR_API_KEY}
      - SONARR_API_KEY=${SONARR_API_KEY}
      - RADARR_API_KEY=${RADARR_API_KEY}
      - LIDARR_API_KEY=${LIDARR_API_KEY}
      - BAZARR_API_KEY=${BAZARR_API_KEY}
      - QBITTORRENT_USER=${QBITTORRENT_USER}
      - QBITTORRENT_PASS=${QBITTORRENT_PASS}
      - SLSKD_API_KEY=${SLSKD_API_KEY}
      - JELLYFIN_API_KEY=${JELLYFIN_API_KEY}
      - JELLYFIN_PASSWORD=${JELLYFIN_PASSWORD}
      - JELLYSEERR_API_KEY=${JELLYSEERR_API_KEY}
    volumes:
      - ./config/config.yaml:/app/config/config.yaml
      - ./src:/app/src